{"version":3,"sources":["../../../../src/basic/Tabs/index.js"],"names":["React","require","Component","ReactNative","Dimensions","View","Animated","ScrollView","StyleSheet","Platform","SceneComponent","DefaultTabBar","ScrollableTabBar","ScrollableTabView","statics","propTypes","tabBarPosition","PropTypes","oneOf","initialPage","number","page","onChangeTab","func","onScroll","renderTabBar","any","style","ViewPropTypes","contentProps","object","scrollWithoutAnimation","bool","locked","prerenderingSiblingsNumber","getDefaultProps","getInitialState","currentPage","props","scrollValue","Value","containerWidth","get","width","sceneKeys","newSceneKeys","componentDidMount","scrollFn","scrollView","state","setValue","InteractionManager","runAfterInteractions","scrollToTimer","setTimeout","scrollTo","x","animated","componentWillUnmount","clearTimeout","UNSAFE_componentWillReceiveProps","children","updateSceneKeys","goToPage","pageNumber","offset","y","callback","_onChangeTab","bind","cloneElement","newKeys","previousKeys","setState","_children","forEach","child","idx","key","_makeSceneKey","_keyExists","_shouldRenderSceneKey","push","currentPageKey","numOfSibling","find","sceneKey","heading","renderScrollableContent","scenes","_composeScenes","offsetX","e","nativeEvent","contentOffset","_updateScrollValue","_onMomentumScrollBeginAndEnd","map","Math","round","_updateSelectedPage","nextPage","localNextPage","position","prevPage","i","ref","from","value","_handleLayout","layout","requestAnimationFrame","Children","render","overlayTabs","tabBarProps","tabs","tabStyle","activeTabStyle","textStyle","activeTextStyle","tabHeaderStyle","_","undefined","disabled","accessible","accessibilityLabel","activeTab","tabBarBackgroundColor","backgroundColor","tabBarActiveTextColor","activeTextColor","tabBarInactiveTextColor","inactiveTextColor","tabBarTextStyle","tabBarUnderlineStyle","underlineStyle","tabContainerStyle","left","right","styles","container","create","flex","scrollableContentAndroid"],"mappings":"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","file":"index.js","sourcesContent":["import PropTypes from 'prop-types';\r\nimport createReactClass from 'create-react-class';\r\nimport _ from 'lodash';\r\nimport { InteractionManager, ViewPropTypes } from '../../utils';\r\nconst React = require('react');\r\nconst { Component } = React;\r\nconst ReactNative = require('react-native');\r\nconst {\r\n  Dimensions,\r\n  View,\r\n  Animated,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Platform\r\n} = ReactNative;\r\n\r\nconst SceneComponent = require('./SceneComponent');\r\nconst { DefaultTabBar } = require('./DefaultTabBar');\r\nconst { ScrollableTabBar } = require('./ScrollableTabBar');\r\n\r\nconst ScrollableTabView = createReactClass({\r\n  statics: {\r\n    DefaultTabBar,\r\n    ScrollableTabBar\r\n  },\r\n\r\n  propTypes: {\r\n    tabBarPosition: PropTypes.oneOf([\r\n      'top',\r\n      'bottom',\r\n      'overlayTop',\r\n      'overlayBottom'\r\n    ]),\r\n    initialPage: PropTypes.number,\r\n    page: PropTypes.number,\r\n    onChangeTab: PropTypes.func,\r\n    onScroll: PropTypes.func,\r\n    renderTabBar: PropTypes.any,\r\n    style: ViewPropTypes.style,\r\n    contentProps: PropTypes.object,\r\n    scrollWithoutAnimation: PropTypes.bool,\r\n    locked: PropTypes.bool,\r\n    prerenderingSiblingsNumber: PropTypes.number\r\n  },\r\n\r\n  getDefaultProps() {\r\n    return {\r\n      tabBarPosition: 'top',\r\n      initialPage: 0,\r\n      page: -1,\r\n      onChangeTab: () => {},\r\n      onScroll: () => {},\r\n      contentProps: {},\r\n      scrollWithoutAnimation: false,\r\n      locked: false,\r\n      prerenderingSiblingsNumber: 0\r\n    };\r\n  },\r\n\r\n  getInitialState() {\r\n    return {\r\n      currentPage: this.props.initialPage,\r\n      scrollValue: new Animated.Value(this.props.initialPage),\r\n      containerWidth: Dimensions.get('window').width,\r\n      sceneKeys: this.newSceneKeys({ currentPage: this.props.initialPage })\r\n    };\r\n  },\r\n\r\n  componentDidMount() {\r\n    const scrollFn = () => {\r\n      if (this.scrollView) {\r\n        this.state.scrollValue.setValue(this.props.initialPage);\r\n      }\r\n    };\r\n    InteractionManager.runAfterInteractions(scrollFn);\r\n    // because of contentOffset is not working on Android\r\n    this.scrollToTimer = setTimeout(() => {\r\n      if (this.scrollView) {\r\n        this.scrollView.scrollTo({\r\n          x: this.props.initialPage * this.state.containerWidth,\r\n          animated: false\r\n        });\r\n      }\r\n    });\r\n  },\r\n\r\n  componentWillUnmount() {\r\n    if (this.scrollToTimer) {\r\n      clearTimeout(this.scrollToTimer);\r\n    }\r\n  },\r\n\r\n  UNSAFE_componentWillReceiveProps(props) {\r\n    if (props.children !== this.props.children) {\r\n      this.updateSceneKeys({\r\n        page: this.state.currentPage,\r\n        children: props.children\r\n      });\r\n    }\r\n\r\n    if (props.page >= 0 && props.page !== this.state.currentPage) {\r\n      this.goToPage(props.page);\r\n    }\r\n  },\r\n\r\n  goToPage(pageNumber) {\r\n    const offset = pageNumber * this.state.containerWidth;\r\n    if (this.scrollView) {\r\n      this.scrollView.scrollTo({\r\n        x: offset,\r\n        y: 0,\r\n        animated: !this.props.scrollWithoutAnimation\r\n      });\r\n    }\r\n\r\n    const currentPage = this.state.currentPage;\r\n    this.updateSceneKeys({\r\n      page: pageNumber,\r\n      callback: this._onChangeTab.bind(this, currentPage, pageNumber)\r\n    });\r\n  },\r\n\r\n  renderTabBar(props) {\r\n    if (this.props.renderTabBar === false) {\r\n      return null;\r\n    } else if (this.props.renderTabBar) {\r\n      return React.cloneElement(this.props.renderTabBar(props), props);\r\n    }\r\n    return <DefaultTabBar {...props} />;\r\n  },\r\n\r\n  updateSceneKeys({\r\n                    page,\r\n                    children = this.props.children,\r\n                    callback = () => {}\r\n                  }) {\r\n    const newKeys = this.newSceneKeys({\r\n      previousKeys: this.state.sceneKeys,\r\n      currentPage: page,\r\n      children\r\n    });\r\n    this.setState({ currentPage: page, sceneKeys: newKeys }, callback);\r\n  },\r\n\r\n  newSceneKeys({\r\n                 previousKeys = [],\r\n                 currentPage = 0,\r\n                 children = this.props.children\r\n               }) {\r\n    const newKeys = [];\r\n    this._children(children).forEach((child, idx) => {\r\n      const key = this._makeSceneKey(child, idx);\r\n      if (\r\n        this._keyExists(previousKeys, key) ||\r\n        this._shouldRenderSceneKey(idx, currentPage)\r\n      ) {\r\n        newKeys.push(key);\r\n      }\r\n    });\r\n    return newKeys;\r\n  },\r\n\r\n  _shouldRenderSceneKey(idx, currentPageKey) {\r\n    const numOfSibling = this.props.prerenderingSiblingsNumber;\r\n    return (\r\n      idx < currentPageKey + numOfSibling + 1 &&\r\n      idx > currentPageKey - numOfSibling - 1\r\n    );\r\n  },\r\n\r\n  _keyExists(sceneKeys, key) {\r\n    return sceneKeys.find(sceneKey => key === sceneKey);\r\n  },\r\n\r\n  _makeSceneKey(child, idx) {\r\n    return `${child.props.heading}_${idx}`;\r\n  },\r\n\r\n  renderScrollableContent() {\r\n    const scenes = this._composeScenes();\r\n    return (\r\n      <ScrollView\r\n        horizontal\r\n        pagingEnabled\r\n        automaticallyAdjustContentInsets={false}\r\n        keyboardShouldPersistTaps=\"handled\"\r\n        contentOffset={{\r\n          x: this.props.initialPage * this.state.containerWidth\r\n        }}\r\n        ref={scrollView => {\r\n          this.scrollView = scrollView;\r\n        }}\r\n        onScroll={e => {\r\n          const offsetX = e.nativeEvent.contentOffset.x;\r\n          this._updateScrollValue(offsetX / this.state.containerWidth);\r\n        }}\r\n        onMomentumScrollBegin={this._onMomentumScrollBeginAndEnd}\r\n        onMomentumScrollEnd={this._onMomentumScrollBeginAndEnd}\r\n        scrollEventThrottle={16}\r\n        scrollsToTop={false}\r\n        showsHorizontalScrollIndicator={false}\r\n        scrollEnabled={!this.props.locked}\r\n        directionalLockEnabled\r\n        alwaysBounceVertical={false}\r\n        keyboardDismissMode=\"on-drag\"\r\n        {...this.props.contentProps}\r\n      >\r\n        {scenes}\r\n      </ScrollView>\r\n    );\r\n  },\r\n\r\n  _composeScenes() {\r\n    return this._children().map((child, idx) => {\r\n      const key = this._makeSceneKey(child, idx);\r\n      return (\r\n        <SceneComponent\r\n          key={child.key}\r\n          shouldUpdated={this._shouldRenderSceneKey(\r\n            idx,\r\n            this.state.currentPage\r\n          )}\r\n          style={{ width: this.state.containerWidth }}\r\n        >\r\n          {this._keyExists(this.state.sceneKeys, key) ? (\r\n            child\r\n          ) : (\r\n            <View heading={child.props.heading} />\r\n          )}\r\n        </SceneComponent>\r\n      );\r\n    });\r\n  },\r\n\r\n  _onMomentumScrollBeginAndEnd(e) {\r\n    const offsetX = e.nativeEvent.contentOffset.x;\r\n    const page = Math.round(offsetX / this.state.containerWidth);\r\n    if (this.state.currentPage !== page) {\r\n      this._updateSelectedPage(page);\r\n    }\r\n  },\r\n\r\n  _updateSelectedPage(nextPage) {\r\n    let localNextPage = nextPage;\r\n    if (typeof localNextPage === 'object') {\r\n      localNextPage = nextPage.nativeEvent.position;\r\n    }\r\n\r\n    const currentPage = this.state.currentPage;\r\n    this.updateSceneKeys({\r\n      page: localNextPage,\r\n      callback: this._onChangeTab.bind(this, currentPage, localNextPage)\r\n    });\r\n  },\r\n\r\n  _onChangeTab(prevPage, currentPage) {\r\n    this.props.onChangeTab({\r\n      i: currentPage,\r\n      ref: this._children()[currentPage],\r\n      from: prevPage\r\n    });\r\n  },\r\n\r\n  _updateScrollValue(value) {\r\n    this.state.scrollValue.setValue(value);\r\n    this.props.onScroll(value);\r\n  },\r\n\r\n  _handleLayout(e) {\r\n    const { width } = e.nativeEvent.layout;\r\n\r\n    if (\r\n      !width ||\r\n      width <= 0 ||\r\n      Math.round(width) === Math.round(this.state.containerWidth)\r\n    ) {\r\n      return;\r\n    }\r\n    this.setState({ containerWidth: width });\r\n    requestAnimationFrame(() => {\r\n      this.goToPage(this.state.currentPage);\r\n    });\r\n  },\r\n\r\n  _children(children = this.props.children) {\r\n    return React.Children.map(children, child => child);\r\n  },\r\n\r\n  render() {\r\n    const overlayTabs =\r\n      this.props.tabBarPosition === 'overlayTop' ||\r\n      this.props.tabBarPosition === 'overlayBottom';\r\n    const tabBarProps = {\r\n      goToPage: this.goToPage,\r\n      tabs: this._children().map(child => child.props.heading),\r\n      tabStyle: this._children().map(child => child.props.tabStyle),\r\n      activeTabStyle: this._children().map(child => child.props.activeTabStyle),\r\n      textStyle: this._children().map(child => child.props.textStyle),\r\n      activeTextStyle: this._children().map(\r\n        child => child.props.activeTextStyle\r\n      ),\r\n      tabHeaderStyle: this._children().map(child =>\r\n        _.get(child.props.heading.props, 'style', undefined)\r\n      ),\r\n      disabled: this._children().map(child => child.props.disabled),\r\n      accessible: this._children().map(child => child.props.accessible==false ? false : true || true ),\r\n      accessibilityLabel: this._children().map(child => child.props.accessibilityLabel),\r\n      activeTab: this.state.currentPage,\r\n      scrollValue: this.state.scrollValue,\r\n      containerWidth: this.state.containerWidth\r\n    };\r\n\r\n    if (this.props.tabBarBackgroundColor) {\r\n      tabBarProps.backgroundColor = this.props.tabBarBackgroundColor;\r\n    }\r\n    if (this.props.tabBarActiveTextColor) {\r\n      tabBarProps.activeTextColor = this.props.tabBarActiveTextColor;\r\n    }\r\n    if (this.props.tabBarInactiveTextColor) {\r\n      tabBarProps.inactiveTextColor = this.props.tabBarInactiveTextColor;\r\n    }\r\n    if (this.props.tabBarTextStyle) {\r\n      tabBarProps.textStyle = this.props.tabBarTextStyle;\r\n    }\r\n    if (this.props.tabBarUnderlineStyle) {\r\n      tabBarProps.underlineStyle = this.props.tabBarUnderlineStyle;\r\n    }\r\n    if (this.props.tabContainerStyle) {\r\n      tabBarProps.tabContainerStyle = this.props.tabContainerStyle;\r\n    }\r\n    if (overlayTabs) {\r\n      tabBarProps.style = {\r\n        position: 'absolute',\r\n        left: 0,\r\n        right: 0,\r\n        [this.props.tabBarPosition === 'overlayTop' ? 'top' : 'bottom']: 0,\r\n        backgroundColor: 'rgba(255, 255, 255, 0.7)'\r\n      };\r\n    }\r\n\r\n    return (\r\n      <View\r\n        style={[styles.container, this.props.style]}\r\n        onLayout={this._handleLayout}\r\n      >\r\n        {(this.props.tabBarPosition === 'top' ||\r\n          this.props.tabBarPosition === 'overlayTop') &&\r\n        this.renderTabBar(tabBarProps)}\r\n        {this.renderScrollableContent()}\r\n        {(this.props.tabBarPosition === 'bottom' ||\r\n          this.props.tabBarPosition === 'overlayBottom') &&\r\n        this.renderTabBar(tabBarProps)}\r\n      </View>\r\n    );\r\n  }\r\n});\r\n\r\nexport default ScrollableTabView;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1\r\n  },\r\n  scrollableContentAndroid: {\r\n    flex: 1\r\n  }\r\n});\r\n"]}